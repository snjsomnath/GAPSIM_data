<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>household - GAPSIM Documentation</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/fontawesome.min.css" rel="stylesheet">
        <link href="../css/brands.min.css" rel="stylesheet">
        <link href="../css/solid.min.css" rel="stylesheet">
        <link href="../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <link href="../assets/_mkdocstrings.css" rel="stylesheet">
        <link href="../stylesheets/extra.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">GAPSIM Documentation</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href=".." class="nav-link">Welcome to tripsender</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">API Documentation</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../activity/" class="dropdown-item">activity</a>
</li>
                                    
<li>
    <a href="../building/" class="dropdown-item">building</a>
</li>
                                    
<li>
    <a href="../house/" class="dropdown-item">house</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active" aria-current="page">household</a>
</li>
                                    
<li>
    <a href="../io/" class="dropdown-item">io</a>
</li>
                                    
<li>
    <a href="../location_assignment/" class="dropdown-item">location_assignment</a>
</li>
                                    
<li>
    <a href="../nhts/" class="dropdown-item">nhts</a>
</li>
                                    
<li>
    <a href="../od/" class="dropdown-item">od</a>
</li>
                                    
<li>
    <a href="../person/" class="dropdown-item">person</a>
</li>
                                    
<li>
    <a href="../population/" class="dropdown-item">population</a>
</li>
                                    
<li>
    <a href="../routing/" class="dropdown-item">routing</a>
</li>
                                    
<li>
    <a href="../sampler/" class="dropdown-item">sampler</a>
</li>
                                    
<li>
    <a href="../synthpop/" class="dropdown-item">synthpop</a>
</li>
                                    
<li>
    <a href="../utils/" class="dropdown-item">utils</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../house/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../io/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="2"><a href="#tripsender.household" class="nav-link">household</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="2"><a href="#tripsender.household.Household" class="nav-link">Household</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<div class="doc doc-object doc-module">



<a id="tripsender.household"></a>
    <div class="doc doc-contents first">



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="tripsender.household.Household" class="doc doc-heading">
            <code>Household</code>


</h2>


    <div class="doc doc-contents ">


      <p>Represents a household with members, cars, and other properties.</p>
<p>A household represents a collection of persons that live together. It comprises:
    - Household category
    - House type
    - List of household members
    - Unique identifier
    - Reference to a house object
    - Preferred destinations for different activities related to the household
    - Number of cars in the household
    - Number of children in the household</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="tripsender.household.Household.uuid">uuid</span></code></td>
            <td>
                  <code>UUID</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Unique identifier for the household.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="tripsender.household.Household.category">category</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Category of the household.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="tripsender.household.Household.children">children</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of children in the household.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="tripsender.household.Household.has_children">has_children</span></code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether the household has children.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="tripsender.household.Household.adults">adults</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of adults in the household.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="tripsender.household.Household.members">members</span></code></td>
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="tripsender.person.Person" href="../person/#tripsender.person.Person">Person</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of members in the household.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="tripsender.household.Household.house_type">house_type</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Type of house the household lives in.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="tripsender.household.Household.house">house</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="tripsender.house.House" href="../house/#tripsender.house.House">House</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Reference to the house object associated with the household.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="tripsender.household.Household.cars">cars</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of cars owned by the household.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="tripsender.household.Household.head_of_household">head_of_household</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="tripsender.person.Person" href="../person/#tripsender.person.Person">Person</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The head of the household.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>tripsender\household.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Household</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents a household with members, cars, and other properties.</span>

<span class="sd">    A household represents a collection of persons that live together. It comprises:</span>
<span class="sd">        - Household category</span>
<span class="sd">        - House type</span>
<span class="sd">        - List of household members</span>
<span class="sd">        - Unique identifier</span>
<span class="sd">        - Reference to a house object</span>
<span class="sd">        - Preferred destinations for different activities related to the household</span>
<span class="sd">        - Number of cars in the household</span>
<span class="sd">        - Number of children in the household</span>

<span class="sd">    Attributes:</span>
<span class="sd">        uuid (UUID): Unique identifier for the household.</span>
<span class="sd">        category (str): Category of the household.</span>
<span class="sd">        children (int): Number of children in the household.</span>
<span class="sd">        has_children (bool): Whether the household has children.</span>
<span class="sd">        adults (int): Number of adults in the household.</span>
<span class="sd">        members (List[Person]): List of members in the household.</span>
<span class="sd">        house_type (Optional[str]): Type of house the household lives in.</span>
<span class="sd">        house (Optional[House]): Reference to the house object associated with the household.</span>
<span class="sd">        cars (int): Number of cars owned by the household.</span>
<span class="sd">        head_of_household (Optional[Person]): The head of the household.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">instances</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s1">&#39;Household&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">category</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the Household with given attributes.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">category</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">category</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">children</span> <span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">has_children</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">adults</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">members</span> <span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Person</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">instances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">house_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">house</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">House</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># assuming there&#39;s a House class</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cars</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">head_of_household</span><span class="p">:</span> <span class="n">Person</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Representation of the Household instance.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;A </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">category</span><span class="si">}</span><span class="s2"> household with </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">members</span><span class="p">)</span><span class="si">}</span><span class="s2"> members. </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="si">}</span><span class="s2"> children and </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">adults</span><span class="si">}</span><span class="s2"> adults.&quot;</span>

    <span class="k">def</span> <span class="nf">add_member</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">person</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a person to the household.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">members</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">person</span><span class="p">)</span>
        <span class="n">person</span><span class="o">.</span><span class="n">household</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="c1"># If person is not child, then increase adult count</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">person</span><span class="o">.</span><span class="n">is_child</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">adults</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="c1"># Set the household UUID to person.household_uuid</span>
        <span class="n">person</span><span class="o">.</span><span class="n">household_uuid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">uuid</span>
        <span class="c1"># If there are no persons in the household, the the first person to be added is the head of the household</span>
        <span class="c1"># As people are added to the household, check the age of the person and if the person is older than the current head of the household, then replace the head of the household with the new person</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">members</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">head_of_household</span> <span class="o">=</span> <span class="n">person</span>
            <span class="n">person</span><span class="o">.</span><span class="n">is_head</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="n">person</span><span class="o">.</span><span class="n">age</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">head_of_household</span><span class="o">.</span><span class="n">age</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">head_of_household</span><span class="o">.</span><span class="n">is_head</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">head_of_household</span> <span class="o">=</span> <span class="n">person</span>
            <span class="n">person</span><span class="o">.</span><span class="n">is_head</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">add_child</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">person</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a child to the household.&quot;&quot;&quot;</span>
        <span class="c1"># Confirm that the person is a child</span>
        <span class="n">person</span><span class="o">.</span><span class="n">is_child</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">members</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">person</span><span class="p">)</span>
        <span class="n">person</span><span class="o">.</span><span class="n">household</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">children</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">has_children</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="c1"># Set the household UUID to person.household_uuid</span>
        <span class="n">person</span><span class="o">.</span><span class="n">household_uuid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">uuid</span>
        <span class="c1"># Set parent uuid</span>
        <span class="n">person</span><span class="o">.</span><span class="n">parent_uuid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">head_of_household</span><span class="o">.</span><span class="n">uuid</span>


    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">sync_children_in_households</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Syncs the number of children in households.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">household</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">instances</span><span class="p">:</span>
            <span class="n">household</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">household</span><span class="o">.</span><span class="n">members</span> <span class="k">if</span> <span class="n">member</span><span class="o">.</span><span class="n">is_child</span><span class="p">)</span>
            <span class="n">household</span><span class="o">.</span><span class="n">has_children</span> <span class="o">=</span> <span class="n">household</span><span class="o">.</span><span class="n">children</span> <span class="o">&gt;</span> <span class="mi">0</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">return_dataframe</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns a dataframe with information about the households.&quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">household</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">instances</span><span class="p">:</span>
            <span class="n">household_dict</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;uuid_household&quot;</span><span class="p">:</span> <span class="n">household</span><span class="o">.</span><span class="n">uuid</span><span class="p">,</span>
                <span class="s2">&quot;name_category&quot;</span><span class="p">:</span> <span class="n">household</span><span class="o">.</span><span class="n">category</span><span class="p">,</span>
                <span class="s2">&quot;count_children&quot;</span><span class="p">:</span> <span class="n">household</span><span class="o">.</span><span class="n">children</span><span class="p">,</span>
                <span class="s2">&quot;bool_children&quot;</span><span class="p">:</span> <span class="n">household</span><span class="o">.</span><span class="n">has_children</span><span class="p">,</span>
                <span class="s2">&quot;count_adults&quot;</span><span class="p">:</span> <span class="n">household</span><span class="o">.</span><span class="n">adults</span><span class="p">,</span>
                <span class="s2">&quot;count_members&quot;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">household</span><span class="o">.</span><span class="n">members</span><span class="p">),</span>
                <span class="s2">&quot;uuid_members&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">member</span><span class="o">.</span><span class="n">uuid</span> <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">household</span><span class="o">.</span><span class="n">members</span><span class="p">],</span>
                <span class="s2">&quot;type_house&quot;</span><span class="p">:</span> <span class="n">household</span><span class="o">.</span><span class="n">house_type</span><span class="p">,</span>
                <span class="s2">&quot;uuid_house&quot;</span><span class="p">:</span> <span class="n">household</span><span class="o">.</span><span class="n">house</span><span class="o">.</span><span class="n">uuid</span> <span class="k">if</span> <span class="n">household</span><span class="o">.</span><span class="n">house</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;count_cars&quot;</span><span class="p">:</span> <span class="n">household</span><span class="o">.</span><span class="n">cars</span><span class="p">,</span>
                <span class="s2">&quot;head_of_household&quot;</span><span class="p">:</span> <span class="n">household</span><span class="o">.</span><span class="n">head_of_household</span><span class="o">.</span><span class="n">uuid</span> <span class="k">if</span> <span class="n">household</span><span class="o">.</span><span class="n">head_of_household</span> <span class="k">else</span> <span class="kc">None</span>
            <span class="p">}</span>
            <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">household_dict</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns a dictionary with information about the household.&quot;&quot;&quot;</span>
        <span class="n">info_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;UUID&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">,</span>
            <span class="s2">&quot;Category&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">category</span><span class="p">,</span>
            <span class="s2">&quot;Number of Members&quot;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">members</span><span class="p">),</span>
            <span class="s2">&quot;Members&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">member</span><span class="o">.</span><span class="n">info</span><span class="p">()</span> <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">members</span><span class="p">],</span>
            <span class="s2">&quot;Children&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">,</span>
            <span class="s2">&quot;House Type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">house_type</span><span class="p">,</span>
            <span class="s2">&quot;Cars&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">cars</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">info_dict</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">clear_instances</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">instances</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">class_info</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Print information about the household categories and their compositions.&quot;&quot;&quot;</span>

        <span class="c1"># Get categories</span>
        <span class="n">categories</span> <span class="o">=</span> <span class="p">[</span><span class="n">household</span><span class="o">.</span><span class="n">category</span> <span class="k">for</span> <span class="n">household</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">instances</span><span class="p">]</span>
        <span class="n">unique_categories</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">categories</span><span class="p">)</span>

        <span class="c1"># Count males and females</span>
        <span class="n">males</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">person</span> <span class="ow">in</span> <span class="n">Person</span><span class="o">.</span><span class="n">instances</span> <span class="k">if</span> <span class="n">person</span><span class="o">.</span><span class="n">sex</span> <span class="o">==</span> <span class="n">MALE</span><span class="p">)</span>
        <span class="n">females</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">Person</span><span class="o">.</span><span class="n">instances</span><span class="p">)</span> <span class="o">-</span> <span class="n">males</span>

        <span class="c1"># Count same-sex couples and households with children</span>
        <span class="n">same_sex_couples</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">household</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">instances</span> <span class="k">if</span> <span class="n">household</span><span class="o">.</span><span class="n">category</span> <span class="o">==</span> <span class="n">COUPLE</span> <span class="ow">and</span> <span class="n">household</span><span class="o">.</span><span class="n">members</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">sex</span> <span class="o">==</span> <span class="n">household</span><span class="o">.</span><span class="n">members</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">sex</span><span class="p">)</span>
        <span class="n">households_with_children</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">household</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">instances</span> <span class="k">if</span> <span class="n">household</span><span class="o">.</span><span class="n">children</span><span class="p">)</span>

        <span class="c1"># Count total children</span>
        <span class="n">total_children</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">household</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">instances</span> <span class="k">for</span> <span class="n">person</span> <span class="ow">in</span> <span class="n">household</span><span class="o">.</span><span class="n">members</span> <span class="k">if</span> <span class="n">person</span><span class="o">.</span><span class="n">is_child</span><span class="p">)</span>

        <span class="c1"># Count total cars</span>
        <span class="n">total_cars</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">household</span><span class="o">.</span><span class="n">cars</span> <span class="k">for</span> <span class="n">household</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">instances</span><span class="p">)</span>

        <span class="c1"># Print the gathered information</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;There are </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">unique_categories</span><span class="p">)</span><span class="si">}</span><span class="s1"> categories in this dataset&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;There are </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">instances</span><span class="p">)</span><span class="si">}</span><span class="s1"> households&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;There are </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">Person</span><span class="o">.</span><span class="n">instances</span><span class="p">)</span><span class="si">}</span><span class="s1"> persons&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The categories are </span><span class="si">{</span><span class="n">unique_categories</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">category</span> <span class="ow">in</span> <span class="n">unique_categories</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;     There are </span><span class="si">{</span><span class="n">categories</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">category</span><span class="p">)</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">category</span><span class="si">}</span><span class="s1"> households&#39;</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;There are </span><span class="si">{</span><span class="n">males</span><span class="si">}</span><span class="s1"> males and </span><span class="si">{</span><span class="n">females</span><span class="si">}</span><span class="s1"> females in the population&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;There are </span><span class="si">{</span><span class="n">same_sex_couples</span><span class="si">}</span><span class="s1"> same sex couples out of </span><span class="si">{</span><span class="n">categories</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">COUPLE</span><span class="p">)</span><span class="si">}</span><span class="s1"> couples&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;There are </span><span class="si">{</span><span class="n">households_with_children</span><span class="si">}</span><span class="s1"> households with children out of </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">instances</span><span class="p">)</span><span class="si">}</span><span class="s1"> households&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;There are </span><span class="si">{</span><span class="n">total_children</span><span class="si">}</span><span class="s1"> children out of </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">Person</span><span class="o">.</span><span class="n">instances</span><span class="p">)</span><span class="si">}</span><span class="s1"> persons&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;There are </span><span class="si">{</span><span class="n">total_cars</span><span class="si">}</span><span class="s1"> cars in all households&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">plot_member_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Plots a relational graph of all members in the household&quot;&quot;&quot;</span>
        <span class="n">members</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">members</span>
        <span class="n">adults</span> <span class="o">=</span> <span class="p">[</span><span class="n">member</span> <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">members</span> <span class="k">if</span> <span class="n">member</span><span class="o">.</span><span class="n">is_child</span> <span class="o">==</span> <span class="kc">False</span><span class="p">]</span>
        <span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">member</span> <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">members</span> <span class="k">if</span> <span class="n">member</span><span class="o">.</span><span class="n">is_child</span> <span class="o">==</span> <span class="kc">True</span><span class="p">]</span>
        <span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">()</span>

        <span class="c1"># Adding household node with size = number of members and colour = red</span>
        <span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;household&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">members</span><span class="p">)</span><span class="o">*</span><span class="mi">10</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#FF6961&quot;</span><span class="p">)</span>

        <span class="c1"># Adding adult nodes with size = age and colour = blue</span>
        <span class="k">for</span> <span class="n">adult</span> <span class="ow">in</span> <span class="n">adults</span><span class="p">:</span>
            <span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">adult</span><span class="o">.</span><span class="n">uuid</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;adult&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="n">adult</span><span class="o">.</span><span class="n">age</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">adult</span><span class="o">.</span><span class="n">age</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#AEC6CF&quot;</span><span class="p">,</span><span class="n">gender</span><span class="o">=</span><span class="n">adult</span><span class="o">.</span><span class="n">sex</span><span class="p">)</span>

        <span class="c1"># Adding child nodes with size = age and colour = green</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">children</span><span class="p">:</span>
            <span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">child</span><span class="o">.</span><span class="n">uuid</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;child&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="n">child</span><span class="o">.</span><span class="n">age</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">child</span><span class="o">.</span><span class="n">age</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#77DD77&quot;</span><span class="p">,</span><span class="n">gender</span><span class="o">=</span><span class="n">child</span><span class="o">.</span><span class="n">sex</span><span class="p">)</span>

        <span class="c1"># Adding edges between household and adults</span>
        <span class="k">for</span> <span class="n">adult</span> <span class="ow">in</span> <span class="n">adults</span><span class="p">:</span>
            <span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">,</span> <span class="n">adult</span><span class="o">.</span><span class="n">uuid</span><span class="p">)</span>

        <span class="c1"># Adding edges between adults and children with length = 1</span>
        <span class="k">for</span> <span class="n">adult</span> <span class="ow">in</span> <span class="n">adults</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">children</span><span class="p">:</span>
                <span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">adult</span><span class="o">.</span><span class="n">uuid</span><span class="p">,</span> <span class="n">child</span><span class="o">.</span><span class="n">uuid</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="c1"># Plotting the graph with node size and colour</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

        <span class="c1"># Draw a hierarchical tree graph</span>
        <span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
        <span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="p">[</span><span class="n">v</span><span class="p">[</span><span class="s1">&#39;size&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">50</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">values</span><span class="p">()],</span>
                <span class="n">node_color</span><span class="o">=</span><span class="p">[</span><span class="n">v</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">values</span><span class="p">()])</span>

        <span class="c1"># Add node labels with age and gender attributes</span>
        <span class="n">node_labels</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;household&#39;</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">age</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="s1">&#39;age&#39;</span><span class="p">]</span>
            <span class="n">gender</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="s1">&#39;gender&#39;</span><span class="p">]</span>
            <span class="n">node_labels</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Age: </span><span class="si">{</span><span class="n">age</span><span class="si">}</span><span class="se">\n</span><span class="s2">Gender: </span><span class="si">{</span><span class="n">gender</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_labels</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">node_labels</span><span class="p">,</span> <span class="n">font_color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>

        <span class="c1"># Add the title and subtitle</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Household Graph&quot;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Household Category: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">category</span><span class="si">}</span><span class="s2"> - Number of Members: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">members</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">plot_activities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">color_palette</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">member</span><span class="o">.</span><span class="n">activity_sequence</span><span class="o">.</span><span class="n">activities</span> <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">members</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No activities to plot&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">color_palette</span><span class="p">:</span>
            <span class="n">activity_colors</span> <span class="o">=</span> <span class="n">color_palette</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">activity_colors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_activity_colors</span><span class="p">()</span>

        <span class="n">y_ticks</span><span class="p">,</span> <span class="n">y_labels</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_member_info</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">y</span><span class="p">,</span> <span class="n">member</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">y_ticks</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">members</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">member</span><span class="o">.</span><span class="n">activity_sequence</span> <span class="ow">is</span>  <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_add_activity_rectangles</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s2">&quot;#d4d4d4&quot;</span><span class="p">,</span><span class="s2">&quot;Children activities are not included&quot;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">member</span><span class="o">.</span><span class="n">activity_sequence</span><span class="o">.</span><span class="n">activities</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">activity</span> <span class="ow">in</span> <span class="n">member</span><span class="o">.</span><span class="n">activity_sequence</span><span class="o">.</span><span class="n">activities</span><span class="p">:</span>
                    <span class="n">start_time</span><span class="p">,</span> <span class="n">end_time</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_activity_times</span><span class="p">(</span><span class="n">activity</span><span class="p">)</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">_add_activity_rectangles</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">start_time</span><span class="p">,</span> <span class="n">end_time</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">activity_colors</span><span class="p">[</span><span class="n">activity</span><span class="o">.</span><span class="n">purpose</span><span class="p">])</span>

                    <span class="k">if</span> <span class="n">activity</span><span class="o">.</span><span class="n">mode</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_add_activity_mode_label</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">start_time</span><span class="p">,</span> <span class="n">end_time</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">activity</span><span class="o">.</span><span class="n">mode</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_set_plot_settings</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">y_ticks</span><span class="p">,</span> <span class="n">y_labels</span><span class="p">,</span> <span class="n">activity_colors</span><span class="p">)</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_get_activity_colors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;Transit&quot;</span><span class="p">:</span> <span class="s2">&quot;#9e0142&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Travel&quot;</span><span class="p">:</span> <span class="s2">&quot;#d53e4f&quot;</span><span class="p">,</span>
        <span class="s1">&#39;Grocery&#39;</span><span class="p">:</span> <span class="s2">&quot;#f46d43&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Shopping&quot;</span><span class="p">:</span> <span class="s2">&quot;#fdae61&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Leisure&quot;</span><span class="p">:</span> <span class="s2">&quot;#fee08b&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Home&quot;</span> <span class="p">:</span> <span class="s2">&quot;#ffffbf&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Work&quot;</span><span class="p">:</span> <span class="s2">&quot;#e6f598&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Education&quot;</span><span class="p">:</span> <span class="s2">&quot;#abdda4&quot;</span><span class="p">,</span>
        <span class="s1">&#39;Healthcare&#39;</span><span class="p">:</span> <span class="s2">&quot;#66c2a5&quot;</span><span class="p">,</span>
        <span class="s1">&#39;Pickup/Dropoff child&#39;</span><span class="p">:</span> <span class="s2">&quot;#3288bd&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Other&quot;</span><span class="p">:</span> <span class="s2">&quot;#5e4fa2&quot;</span><span class="p">,</span>
        <span class="c1"># Add other activity types here</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="nf">_get_member_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">y_ticks</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">members</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">y_labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">member</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span> <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">members</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">y_ticks</span><span class="p">,</span> <span class="n">y_labels</span>

    <span class="k">def</span> <span class="nf">_get_activity_times</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">activity</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">activity</span><span class="o">.</span><span class="n">start_time</span> <span class="o">==</span> <span class="n">time</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">and</span> <span class="n">activity</span><span class="o">.</span><span class="n">end_time</span> <span class="o">==</span> <span class="n">time</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">24</span>
        <span class="k">return</span> <span class="n">activity</span><span class="o">.</span><span class="n">start_time</span><span class="o">.</span><span class="n">hour</span> <span class="o">+</span> <span class="n">activity</span><span class="o">.</span><span class="n">start_time</span><span class="o">.</span><span class="n">minute</span> <span class="o">/</span> <span class="mi">60</span><span class="p">,</span> <span class="n">activity</span><span class="o">.</span><span class="n">end_time</span><span class="o">.</span><span class="n">hour</span> <span class="o">+</span> <span class="n">activity</span><span class="o">.</span><span class="n">end_time</span><span class="o">.</span><span class="n">minute</span> <span class="o">/</span> <span class="mi">60</span>
    <span class="c1">#self._add_activity_rectangles(ax, 0, 24, y, &quot;#d4d4d4&quot;,&quot;Children activities are not included&quot;)</span>
    <span class="k">def</span> <span class="nf">_add_activity_rectangles</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">start_time</span><span class="p">,</span> <span class="n">end_time</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">end_time</span> <span class="o">&lt;</span> <span class="n">start_time</span><span class="p">:</span>
            <span class="n">rects</span> <span class="o">=</span> <span class="p">[</span><span class="n">patches</span><span class="o">.</span><span class="n">Rectangle</span><span class="p">((</span><span class="n">start_time</span><span class="p">,</span> <span class="n">y</span> <span class="o">-</span> <span class="mf">0.3</span><span class="p">),</span> <span class="mi">24</span> <span class="o">-</span> <span class="n">start_time</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="n">color</span><span class="p">),</span>
                     <span class="n">patches</span><span class="o">.</span><span class="n">Rectangle</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">-</span> <span class="mf">0.3</span><span class="p">),</span> <span class="n">end_time</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="n">color</span><span class="p">)]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rects</span> <span class="o">=</span> <span class="p">[</span><span class="n">patches</span><span class="o">.</span><span class="n">Rectangle</span><span class="p">((</span><span class="n">start_time</span><span class="p">,</span> <span class="n">y</span> <span class="o">-</span> <span class="mf">0.3</span><span class="p">),</span> <span class="n">end_time</span> <span class="o">-</span> <span class="n">start_time</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="n">color</span><span class="p">)]</span>

        <span class="k">for</span> <span class="n">rect</span> <span class="ow">in</span> <span class="n">rects</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">add_patch</span><span class="p">(</span><span class="n">rect</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">text</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_add_activity_mode_label</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">start_time</span><span class="p">,</span> <span class="n">end_time</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">((</span><span class="n">start_time</span> <span class="o">+</span> <span class="n">end_time</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_plot_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">y_ticks</span><span class="p">,</span> <span class="n">y_labels</span><span class="p">,</span> <span class="n">activity_colors</span><span class="p">):</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span><span class="n">y_ticks</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_yticklabels</span><span class="p">(</span><span class="n">y_labels</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">y_labels</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.5</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">24</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Time of Day&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Household Members&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Household Activities Timeline&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#d4d4d4&#39;</span><span class="p">)</span>
        <span class="n">handles</span> <span class="o">=</span> <span class="p">[</span><span class="n">patches</span><span class="o">.</span><span class="n">Patch</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">purpose</span><span class="p">)</span> <span class="k">for</span> <span class="n">purpose</span><span class="p">,</span> <span class="n">color</span> <span class="ow">in</span> <span class="n">activity_colors</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="o">=</span><span class="n">handles</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper center&#39;</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.15</span><span class="p">),</span> <span class="n">ncol</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">spine</span> <span class="ow">in</span> <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">spine</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">plot_cars</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="c1"># Plot distribution of cars in the neighborhood</span>
        <span class="n">cars</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">household</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">instances</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">household</span><span class="o">.</span><span class="n">cars</span> <span class="ow">in</span> <span class="n">cars</span><span class="p">:</span>
                <span class="n">cars</span><span class="p">[</span><span class="n">household</span><span class="o">.</span><span class="n">cars</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">cars</span><span class="p">[</span><span class="n">household</span><span class="o">.</span><span class="n">cars</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="c1"># Display the bar chart</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">cars</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="n">cars</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Number of cars per household (After scaling)&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Number of cars&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Count&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">cars</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Households with </span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2"> cars: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">return_nhts</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">onehotencode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;primary_status&#39;</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a dataframe with information about the households and persons in a common NHTS format.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># Helper function to determine age group</span>
        <span class="k">def</span> <span class="nf">_determine_age_group</span><span class="p">(</span><span class="n">age</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">age</span> <span class="o">&lt;</span> <span class="mi">25</span><span class="p">:</span>
                <span class="k">return</span> <span class="s1">&#39;16-24&#39;</span>
            <span class="k">elif</span> <span class="n">age</span> <span class="o">&lt;</span> <span class="mi">35</span><span class="p">:</span>
                <span class="k">return</span> <span class="s1">&#39;25-34&#39;</span>
            <span class="k">elif</span> <span class="n">age</span> <span class="o">&lt;</span> <span class="mi">45</span><span class="p">:</span>
                <span class="k">return</span> <span class="s1">&#39;35-44&#39;</span>
            <span class="k">elif</span> <span class="n">age</span> <span class="o">&lt;</span> <span class="mi">55</span><span class="p">:</span>
                <span class="k">return</span> <span class="s1">&#39;45-54&#39;</span>
            <span class="k">elif</span> <span class="n">age</span> <span class="o">&lt;</span> <span class="mi">65</span><span class="p">:</span>
                <span class="k">return</span> <span class="s1">&#39;55-64&#39;</span>
            <span class="k">elif</span> <span class="n">age</span> <span class="o">&lt;</span> <span class="mi">75</span><span class="p">:</span>
                <span class="k">return</span> <span class="s1">&#39;65-74&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="s1">&#39;75+&#39;</span>

        <span class="n">list_of_dicts</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">adults</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">household</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">instances</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">person</span> <span class="ow">in</span> <span class="n">household</span><span class="o">.</span><span class="n">members</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">person</span><span class="o">.</span><span class="n">age</span> <span class="o">&gt;</span> <span class="mi">18</span><span class="p">:</span>
                    <span class="n">adults</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">person</span><span class="p">)</span>
                    <span class="n">age_group</span> <span class="o">=</span> <span class="n">_determine_age_group</span><span class="p">(</span><span class="n">person</span><span class="o">.</span><span class="n">age</span><span class="p">)</span>

                    <span class="n">person_dict</span> <span class="o">=</span> <span class="p">{</span>
                        <span class="s1">&#39;sex&#39;</span><span class="p">:</span> <span class="n">person</span><span class="o">.</span><span class="n">sex</span><span class="p">,</span>
                        <span class="s1">&#39;age_group&#39;</span><span class="p">:</span> <span class="n">age_group</span><span class="p">,</span>
                        <span class="s1">&#39;house_type&#39;</span><span class="p">:</span> <span class="n">person</span><span class="o">.</span><span class="n">household</span><span class="o">.</span><span class="n">house_type</span><span class="p">,</span>
                        <span class="s1">&#39;child_count&#39;</span><span class="p">:</span> <span class="n">person</span><span class="o">.</span><span class="n">household</span><span class="o">.</span><span class="n">children</span><span class="p">,</span>
                        <span class="s1">&#39;adult_count&#39;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">person</span><span class="o">.</span><span class="n">household</span><span class="o">.</span><span class="n">members</span><span class="p">)</span> <span class="o">-</span> <span class="n">person</span><span class="o">.</span><span class="n">household</span><span class="o">.</span><span class="n">children</span><span class="p">,</span>
                        <span class="s1">&#39;household_type&#39;</span><span class="p">:</span> <span class="n">person</span><span class="o">.</span><span class="n">household</span><span class="o">.</span><span class="n">category</span><span class="p">,</span>
                        <span class="s1">&#39;car_count&#39;</span><span class="p">:</span> <span class="n">person</span><span class="o">.</span><span class="n">household</span><span class="o">.</span><span class="n">cars</span><span class="p">,</span>
                        <span class="s1">&#39;primary_status&#39;</span><span class="p">:</span> <span class="n">person</span><span class="o">.</span><span class="n">primary_status</span><span class="p">,</span>
                    <span class="p">}</span>

                    <span class="n">list_of_dicts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">person_dict</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">list_of_dicts</span><span class="p">)</span>

        <span class="c1"># If drop, then drop the columns in the list</span>
        <span class="k">if</span> <span class="n">drop</span><span class="p">:</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">drop</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">onehotencode</span><span class="p">:</span>
            <span class="n">ohe</span> <span class="o">=</span> <span class="n">OneHotEncoder</span><span class="p">(</span><span class="n">sparse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  <span class="c1"># Initialize the encoder</span>
            <span class="n">categorical_variables</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;house_type&#39;</span><span class="p">,</span> <span class="s1">&#39;household_type&#39;</span><span class="p">]</span>
            <span class="n">df_ohe</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">ohe</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">categorical_variables</span><span class="p">]))</span>
            <span class="n">df_ohe</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">ohe</span><span class="o">.</span><span class="n">get_feature_names</span><span class="p">()</span>

            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">categorical_variables</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="p">,</span> <span class="n">df_ohe</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">df</span><span class="p">,</span><span class="n">adults</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">plot_children_in_households</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span><span class="n">year</span><span class="p">,</span><span class="n">area</span><span class="p">):</span>

        <span class="c1"># Creating a dictionary for each category</span>
        <span class="n">household_categories</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;Single_no_children&#39;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s1">&#39;Single_children_0_24&#39;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s1">&#39;Single_children_25&#39;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s1">&#39;Couple_no_children&#39;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s1">&#39;Couple_children_0_24&#39;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s1">&#39;Couple_children_25&#39;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s1">&#39;Other_no_children&#39;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s1">&#39;Other_children_0_24&#39;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s1">&#39;Other_children_25&#39;</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">}</span>

        <span class="n">household_instances</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">instances</span>

        <span class="c1"># A household can be in only one category from the list above</span>
        <span class="c1"># Looping through all households</span>
        <span class="k">for</span> <span class="n">household</span> <span class="ow">in</span> <span class="n">household_instances</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">household</span><span class="o">.</span><span class="n">children</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">category</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">household</span><span class="o">.</span><span class="n">category</span><span class="si">}</span><span class="s1">_no_children&#39;</span>
            <span class="c1"># If the household has children, then check the age of the children, if any of the children are below 25,</span>
            <span class="c1"># then the household is categorised as children_0_24, otherwise it is categorised as children_25</span>
            <span class="k">elif</span> <span class="nb">any</span><span class="p">(</span><span class="n">person</span><span class="o">.</span><span class="n">age</span> <span class="o">&lt;</span> <span class="mi">25</span> <span class="k">for</span> <span class="n">person</span> <span class="ow">in</span> <span class="n">household</span><span class="o">.</span><span class="n">members</span> <span class="k">if</span> <span class="n">person</span><span class="o">.</span><span class="n">is_child</span><span class="p">):</span>
                <span class="n">category</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">household</span><span class="o">.</span><span class="n">category</span><span class="si">}</span><span class="s1">_children_0_24&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">category</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">household</span><span class="o">.</span><span class="n">category</span><span class="si">}</span><span class="s1">_children_25&#39;</span>

            <span class="n">household_categories</span><span class="p">[</span><span class="n">category</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">household</span><span class="p">)</span>



        <span class="c1"># Creating a list of counts and labels</span>
        <span class="n">counts</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">labels</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">household_categories</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">labels</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">))</span>
            <span class="n">counts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Number of households: &#39;</span><span class="p">,</span> <span class="nb">sum</span><span class="p">(</span><span class="n">counts</span><span class="p">))</span>

        <span class="c1"># show data value on the plot</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">counts</span><span class="p">)):</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">counts</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="n">counts</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">)</span>

        <span class="c1"># Plotting the counts</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span> <span class="n">counts</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Household categories&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Household category&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Count&#39;</span><span class="p">)</span>

        <span class="n">d</span> <span class="o">=</span> <span class="n">fetcher</span><span class="o">.</span><span class="n">fetch_older_children_data</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">area</span><span class="p">)</span>
        <span class="n">scb_data</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="s1">&#39;values&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]]</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span> <span class="n">scb_data</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s1">&#39;SCB data&#39;</span><span class="p">,</span> <span class="s1">&#39;Our data&#39;</span><span class="p">])</span>

        <span class="c1"># Calculate the error</span>
        <span class="n">error</span> <span class="o">=</span> <span class="p">[</span><span class="n">counts</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">scb_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">counts</span><span class="p">))]</span>

        <span class="c1"># Plot the error</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Incorrectly categorised persons&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Household category&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Error&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">update_has_child</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Set the has_child attribute for adults in the household based on the number of children in the household&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">has_child</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">has_child</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">members</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">member</span><span class="o">.</span><span class="n">is_child</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
                <span class="n">member</span><span class="o">.</span><span class="n">has_child</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_child</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="tripsender.household.Household.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">category</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Initialize the Household with given attributes.</p>

            <details class="quote">
              <summary>Source code in <code>tripsender\household.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">category</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the Household with given attributes.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">:</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">category</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">category</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">children</span> <span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span> 
    <span class="bp">self</span><span class="o">.</span><span class="n">has_children</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">adults</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">members</span> <span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Person</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">instances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">house_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">house</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">House</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># assuming there&#39;s a House class</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cars</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">head_of_household</span><span class="p">:</span> <span class="n">Person</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tripsender.household.Household.__repr__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__repr__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Representation of the Household instance.</p>

            <details class="quote">
              <summary>Source code in <code>tripsender\household.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Representation of the Household instance.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;A </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">category</span><span class="si">}</span><span class="s2"> household with </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">members</span><span class="p">)</span><span class="si">}</span><span class="s2"> members. </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="si">}</span><span class="s2"> children and </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">adults</span><span class="si">}</span><span class="s2"> adults.&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tripsender.household.Household.add_child" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_child</span><span class="p">(</span><span class="n">person</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Adds a child to the household.</p>

            <details class="quote">
              <summary>Source code in <code>tripsender\household.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_child</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">person</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a child to the household.&quot;&quot;&quot;</span>
    <span class="c1"># Confirm that the person is a child</span>
    <span class="n">person</span><span class="o">.</span><span class="n">is_child</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">members</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">person</span><span class="p">)</span>
    <span class="n">person</span><span class="o">.</span><span class="n">household</span> <span class="o">=</span> <span class="bp">self</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">children</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">has_children</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="c1"># Set the household UUID to person.household_uuid</span>
    <span class="n">person</span><span class="o">.</span><span class="n">household_uuid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">uuid</span>
    <span class="c1"># Set parent uuid</span>
    <span class="n">person</span><span class="o">.</span><span class="n">parent_uuid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">head_of_household</span><span class="o">.</span><span class="n">uuid</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tripsender.household.Household.add_member" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_member</span><span class="p">(</span><span class="n">person</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Adds a person to the household.</p>

            <details class="quote">
              <summary>Source code in <code>tripsender\household.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_member</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">person</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a person to the household.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">members</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">person</span><span class="p">)</span>
    <span class="n">person</span><span class="o">.</span><span class="n">household</span> <span class="o">=</span> <span class="bp">self</span>
    <span class="c1"># If person is not child, then increase adult count</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">person</span><span class="o">.</span><span class="n">is_child</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">adults</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="c1"># Set the household UUID to person.household_uuid</span>
    <span class="n">person</span><span class="o">.</span><span class="n">household_uuid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">uuid</span>
    <span class="c1"># If there are no persons in the household, the the first person to be added is the head of the household</span>
    <span class="c1"># As people are added to the household, check the age of the person and if the person is older than the current head of the household, then replace the head of the household with the new person</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">members</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">head_of_household</span> <span class="o">=</span> <span class="n">person</span>
        <span class="n">person</span><span class="o">.</span><span class="n">is_head</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">elif</span> <span class="n">person</span><span class="o">.</span><span class="n">age</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">head_of_household</span><span class="o">.</span><span class="n">age</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">head_of_household</span><span class="o">.</span><span class="n">is_head</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">head_of_household</span> <span class="o">=</span> <span class="n">person</span>
        <span class="n">person</span><span class="o">.</span><span class="n">is_head</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tripsender.household.Household.class_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">class_info</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

      <p>Print information about the household categories and their compositions.</p>

            <details class="quote">
              <summary>Source code in <code>tripsender\household.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">class_info</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Print information about the household categories and their compositions.&quot;&quot;&quot;</span>

    <span class="c1"># Get categories</span>
    <span class="n">categories</span> <span class="o">=</span> <span class="p">[</span><span class="n">household</span><span class="o">.</span><span class="n">category</span> <span class="k">for</span> <span class="n">household</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">instances</span><span class="p">]</span>
    <span class="n">unique_categories</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">categories</span><span class="p">)</span>

    <span class="c1"># Count males and females</span>
    <span class="n">males</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">person</span> <span class="ow">in</span> <span class="n">Person</span><span class="o">.</span><span class="n">instances</span> <span class="k">if</span> <span class="n">person</span><span class="o">.</span><span class="n">sex</span> <span class="o">==</span> <span class="n">MALE</span><span class="p">)</span>
    <span class="n">females</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">Person</span><span class="o">.</span><span class="n">instances</span><span class="p">)</span> <span class="o">-</span> <span class="n">males</span>

    <span class="c1"># Count same-sex couples and households with children</span>
    <span class="n">same_sex_couples</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">household</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">instances</span> <span class="k">if</span> <span class="n">household</span><span class="o">.</span><span class="n">category</span> <span class="o">==</span> <span class="n">COUPLE</span> <span class="ow">and</span> <span class="n">household</span><span class="o">.</span><span class="n">members</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">sex</span> <span class="o">==</span> <span class="n">household</span><span class="o">.</span><span class="n">members</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">sex</span><span class="p">)</span>
    <span class="n">households_with_children</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">household</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">instances</span> <span class="k">if</span> <span class="n">household</span><span class="o">.</span><span class="n">children</span><span class="p">)</span>

    <span class="c1"># Count total children</span>
    <span class="n">total_children</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">household</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">instances</span> <span class="k">for</span> <span class="n">person</span> <span class="ow">in</span> <span class="n">household</span><span class="o">.</span><span class="n">members</span> <span class="k">if</span> <span class="n">person</span><span class="o">.</span><span class="n">is_child</span><span class="p">)</span>

    <span class="c1"># Count total cars</span>
    <span class="n">total_cars</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">household</span><span class="o">.</span><span class="n">cars</span> <span class="k">for</span> <span class="n">household</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">instances</span><span class="p">)</span>

    <span class="c1"># Print the gathered information</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;There are </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">unique_categories</span><span class="p">)</span><span class="si">}</span><span class="s1"> categories in this dataset&#39;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;There are </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">instances</span><span class="p">)</span><span class="si">}</span><span class="s1"> households&#39;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;There are </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">Person</span><span class="o">.</span><span class="n">instances</span><span class="p">)</span><span class="si">}</span><span class="s1"> persons&#39;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The categories are </span><span class="si">{</span><span class="n">unique_categories</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">category</span> <span class="ow">in</span> <span class="n">unique_categories</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;     There are </span><span class="si">{</span><span class="n">categories</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">category</span><span class="p">)</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">category</span><span class="si">}</span><span class="s1"> households&#39;</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;There are </span><span class="si">{</span><span class="n">males</span><span class="si">}</span><span class="s1"> males and </span><span class="si">{</span><span class="n">females</span><span class="si">}</span><span class="s1"> females in the population&#39;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;There are </span><span class="si">{</span><span class="n">same_sex_couples</span><span class="si">}</span><span class="s1"> same sex couples out of </span><span class="si">{</span><span class="n">categories</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">COUPLE</span><span class="p">)</span><span class="si">}</span><span class="s1"> couples&#39;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;There are </span><span class="si">{</span><span class="n">households_with_children</span><span class="si">}</span><span class="s1"> households with children out of </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">instances</span><span class="p">)</span><span class="si">}</span><span class="s1"> households&#39;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;There are </span><span class="si">{</span><span class="n">total_children</span><span class="si">}</span><span class="s1"> children out of </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">Person</span><span class="o">.</span><span class="n">instances</span><span class="p">)</span><span class="si">}</span><span class="s1"> persons&#39;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;There are </span><span class="si">{</span><span class="n">total_cars</span><span class="si">}</span><span class="s1"> cars in all households&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tripsender.household.Household.info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">info</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Returns a dictionary with information about the household.</p>

            <details class="quote">
              <summary>Source code in <code>tripsender\household.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a dictionary with information about the household.&quot;&quot;&quot;</span>
    <span class="n">info_dict</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;UUID&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">,</span>
        <span class="s2">&quot;Category&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">category</span><span class="p">,</span>
        <span class="s2">&quot;Number of Members&quot;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">members</span><span class="p">),</span>
        <span class="s2">&quot;Members&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">member</span><span class="o">.</span><span class="n">info</span><span class="p">()</span> <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">members</span><span class="p">],</span>
        <span class="s2">&quot;Children&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">,</span>
        <span class="s2">&quot;House Type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">house_type</span><span class="p">,</span>
        <span class="s2">&quot;Cars&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">cars</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">info_dict</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tripsender.household.Household.plot_member_graph" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">plot_member_graph</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Plots a relational graph of all members in the household</p>

            <details class="quote">
              <summary>Source code in <code>tripsender\household.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">plot_member_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Plots a relational graph of all members in the household&quot;&quot;&quot;</span>
    <span class="n">members</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">members</span>
    <span class="n">adults</span> <span class="o">=</span> <span class="p">[</span><span class="n">member</span> <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">members</span> <span class="k">if</span> <span class="n">member</span><span class="o">.</span><span class="n">is_child</span> <span class="o">==</span> <span class="kc">False</span><span class="p">]</span>
    <span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">member</span> <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">members</span> <span class="k">if</span> <span class="n">member</span><span class="o">.</span><span class="n">is_child</span> <span class="o">==</span> <span class="kc">True</span><span class="p">]</span>
    <span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">()</span>

    <span class="c1"># Adding household node with size = number of members and colour = red</span>
    <span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;household&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">members</span><span class="p">)</span><span class="o">*</span><span class="mi">10</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#FF6961&quot;</span><span class="p">)</span>

    <span class="c1"># Adding adult nodes with size = age and colour = blue</span>
    <span class="k">for</span> <span class="n">adult</span> <span class="ow">in</span> <span class="n">adults</span><span class="p">:</span>
        <span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">adult</span><span class="o">.</span><span class="n">uuid</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;adult&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="n">adult</span><span class="o">.</span><span class="n">age</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">adult</span><span class="o">.</span><span class="n">age</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#AEC6CF&quot;</span><span class="p">,</span><span class="n">gender</span><span class="o">=</span><span class="n">adult</span><span class="o">.</span><span class="n">sex</span><span class="p">)</span>

    <span class="c1"># Adding child nodes with size = age and colour = green</span>
    <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">children</span><span class="p">:</span>
        <span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">child</span><span class="o">.</span><span class="n">uuid</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;child&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="n">child</span><span class="o">.</span><span class="n">age</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">child</span><span class="o">.</span><span class="n">age</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#77DD77&quot;</span><span class="p">,</span><span class="n">gender</span><span class="o">=</span><span class="n">child</span><span class="o">.</span><span class="n">sex</span><span class="p">)</span>

    <span class="c1"># Adding edges between household and adults</span>
    <span class="k">for</span> <span class="n">adult</span> <span class="ow">in</span> <span class="n">adults</span><span class="p">:</span>
        <span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">,</span> <span class="n">adult</span><span class="o">.</span><span class="n">uuid</span><span class="p">)</span>

    <span class="c1"># Adding edges between adults and children with length = 1</span>
    <span class="k">for</span> <span class="n">adult</span> <span class="ow">in</span> <span class="n">adults</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">children</span><span class="p">:</span>
            <span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">adult</span><span class="o">.</span><span class="n">uuid</span><span class="p">,</span> <span class="n">child</span><span class="o">.</span><span class="n">uuid</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

    <span class="c1"># Plotting the graph with node size and colour</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

    <span class="c1"># Draw a hierarchical tree graph</span>
    <span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
    <span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="p">[</span><span class="n">v</span><span class="p">[</span><span class="s1">&#39;size&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">50</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">values</span><span class="p">()],</span>
            <span class="n">node_color</span><span class="o">=</span><span class="p">[</span><span class="n">v</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">values</span><span class="p">()])</span>

    <span class="c1"># Add node labels with age and gender attributes</span>
    <span class="n">node_labels</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;household&#39;</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">age</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="s1">&#39;age&#39;</span><span class="p">]</span>
        <span class="n">gender</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="s1">&#39;gender&#39;</span><span class="p">]</span>
        <span class="n">node_labels</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Age: </span><span class="si">{</span><span class="n">age</span><span class="si">}</span><span class="se">\n</span><span class="s2">Gender: </span><span class="si">{</span><span class="n">gender</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_labels</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">node_labels</span><span class="p">,</span> <span class="n">font_color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>

    <span class="c1"># Add the title and subtitle</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Household Graph&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Household Category: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">category</span><span class="si">}</span><span class="s2"> - Number of Members: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">members</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tripsender.household.Household.return_dataframe" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">return_dataframe</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

      <p>Returns a dataframe with information about the households.</p>

            <details class="quote">
              <summary>Source code in <code>tripsender\household.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">return_dataframe</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a dataframe with information about the households.&quot;&quot;&quot;</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">household</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">instances</span><span class="p">:</span>
        <span class="n">household_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;uuid_household&quot;</span><span class="p">:</span> <span class="n">household</span><span class="o">.</span><span class="n">uuid</span><span class="p">,</span>
            <span class="s2">&quot;name_category&quot;</span><span class="p">:</span> <span class="n">household</span><span class="o">.</span><span class="n">category</span><span class="p">,</span>
            <span class="s2">&quot;count_children&quot;</span><span class="p">:</span> <span class="n">household</span><span class="o">.</span><span class="n">children</span><span class="p">,</span>
            <span class="s2">&quot;bool_children&quot;</span><span class="p">:</span> <span class="n">household</span><span class="o">.</span><span class="n">has_children</span><span class="p">,</span>
            <span class="s2">&quot;count_adults&quot;</span><span class="p">:</span> <span class="n">household</span><span class="o">.</span><span class="n">adults</span><span class="p">,</span>
            <span class="s2">&quot;count_members&quot;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">household</span><span class="o">.</span><span class="n">members</span><span class="p">),</span>
            <span class="s2">&quot;uuid_members&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">member</span><span class="o">.</span><span class="n">uuid</span> <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">household</span><span class="o">.</span><span class="n">members</span><span class="p">],</span>
            <span class="s2">&quot;type_house&quot;</span><span class="p">:</span> <span class="n">household</span><span class="o">.</span><span class="n">house_type</span><span class="p">,</span>
            <span class="s2">&quot;uuid_house&quot;</span><span class="p">:</span> <span class="n">household</span><span class="o">.</span><span class="n">house</span><span class="o">.</span><span class="n">uuid</span> <span class="k">if</span> <span class="n">household</span><span class="o">.</span><span class="n">house</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;count_cars&quot;</span><span class="p">:</span> <span class="n">household</span><span class="o">.</span><span class="n">cars</span><span class="p">,</span>
            <span class="s2">&quot;head_of_household&quot;</span><span class="p">:</span> <span class="n">household</span><span class="o">.</span><span class="n">head_of_household</span><span class="o">.</span><span class="n">uuid</span> <span class="k">if</span> <span class="n">household</span><span class="o">.</span><span class="n">head_of_household</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="p">}</span>
        <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">household_dict</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tripsender.household.Household.return_nhts" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">return_nhts</span><span class="p">(</span><span class="n">onehotencode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;primary_status&#39;</span><span class="p">])</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

      <p>Returns a dataframe with information about the households and persons in a common NHTS format.</p>

            <details class="quote">
              <summary>Source code in <code>tripsender\household.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">return_nhts</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">onehotencode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;primary_status&#39;</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a dataframe with information about the households and persons in a common NHTS format.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Helper function to determine age group</span>
    <span class="k">def</span> <span class="nf">_determine_age_group</span><span class="p">(</span><span class="n">age</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">age</span> <span class="o">&lt;</span> <span class="mi">25</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;16-24&#39;</span>
        <span class="k">elif</span> <span class="n">age</span> <span class="o">&lt;</span> <span class="mi">35</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;25-34&#39;</span>
        <span class="k">elif</span> <span class="n">age</span> <span class="o">&lt;</span> <span class="mi">45</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;35-44&#39;</span>
        <span class="k">elif</span> <span class="n">age</span> <span class="o">&lt;</span> <span class="mi">55</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;45-54&#39;</span>
        <span class="k">elif</span> <span class="n">age</span> <span class="o">&lt;</span> <span class="mi">65</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;55-64&#39;</span>
        <span class="k">elif</span> <span class="n">age</span> <span class="o">&lt;</span> <span class="mi">75</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;65-74&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;75+&#39;</span>

    <span class="n">list_of_dicts</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">adults</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">household</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">instances</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">person</span> <span class="ow">in</span> <span class="n">household</span><span class="o">.</span><span class="n">members</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">person</span><span class="o">.</span><span class="n">age</span> <span class="o">&gt;</span> <span class="mi">18</span><span class="p">:</span>
                <span class="n">adults</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">person</span><span class="p">)</span>
                <span class="n">age_group</span> <span class="o">=</span> <span class="n">_determine_age_group</span><span class="p">(</span><span class="n">person</span><span class="o">.</span><span class="n">age</span><span class="p">)</span>

                <span class="n">person_dict</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;sex&#39;</span><span class="p">:</span> <span class="n">person</span><span class="o">.</span><span class="n">sex</span><span class="p">,</span>
                    <span class="s1">&#39;age_group&#39;</span><span class="p">:</span> <span class="n">age_group</span><span class="p">,</span>
                    <span class="s1">&#39;house_type&#39;</span><span class="p">:</span> <span class="n">person</span><span class="o">.</span><span class="n">household</span><span class="o">.</span><span class="n">house_type</span><span class="p">,</span>
                    <span class="s1">&#39;child_count&#39;</span><span class="p">:</span> <span class="n">person</span><span class="o">.</span><span class="n">household</span><span class="o">.</span><span class="n">children</span><span class="p">,</span>
                    <span class="s1">&#39;adult_count&#39;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">person</span><span class="o">.</span><span class="n">household</span><span class="o">.</span><span class="n">members</span><span class="p">)</span> <span class="o">-</span> <span class="n">person</span><span class="o">.</span><span class="n">household</span><span class="o">.</span><span class="n">children</span><span class="p">,</span>
                    <span class="s1">&#39;household_type&#39;</span><span class="p">:</span> <span class="n">person</span><span class="o">.</span><span class="n">household</span><span class="o">.</span><span class="n">category</span><span class="p">,</span>
                    <span class="s1">&#39;car_count&#39;</span><span class="p">:</span> <span class="n">person</span><span class="o">.</span><span class="n">household</span><span class="o">.</span><span class="n">cars</span><span class="p">,</span>
                    <span class="s1">&#39;primary_status&#39;</span><span class="p">:</span> <span class="n">person</span><span class="o">.</span><span class="n">primary_status</span><span class="p">,</span>
                <span class="p">}</span>

                <span class="n">list_of_dicts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">person_dict</span><span class="p">)</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">list_of_dicts</span><span class="p">)</span>

    <span class="c1"># If drop, then drop the columns in the list</span>
    <span class="k">if</span> <span class="n">drop</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">drop</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">onehotencode</span><span class="p">:</span>
        <span class="n">ohe</span> <span class="o">=</span> <span class="n">OneHotEncoder</span><span class="p">(</span><span class="n">sparse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  <span class="c1"># Initialize the encoder</span>
        <span class="n">categorical_variables</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;house_type&#39;</span><span class="p">,</span> <span class="s1">&#39;household_type&#39;</span><span class="p">]</span>
        <span class="n">df_ohe</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">ohe</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">categorical_variables</span><span class="p">]))</span>
        <span class="n">df_ohe</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">ohe</span><span class="o">.</span><span class="n">get_feature_names</span><span class="p">()</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">categorical_variables</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="p">,</span> <span class="n">df_ohe</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">df</span><span class="p">,</span><span class="n">adults</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tripsender.household.Household.sync_children_in_households" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">sync_children_in_households</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

      <p>Syncs the number of children in households.</p>

            <details class="quote">
              <summary>Source code in <code>tripsender\household.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">sync_children_in_households</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Syncs the number of children in households.&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">household</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">instances</span><span class="p">:</span>
        <span class="n">household</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">household</span><span class="o">.</span><span class="n">members</span> <span class="k">if</span> <span class="n">member</span><span class="o">.</span><span class="n">is_child</span><span class="p">)</span>
        <span class="n">household</span><span class="o">.</span><span class="n">has_children</span> <span class="o">=</span> <span class="n">household</span><span class="o">.</span><span class="n">children</span> <span class="o">&gt;</span> <span class="mi">0</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tripsender.household.Household.update_has_child" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update_has_child</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Set the has_child attribute for adults in the household based on the number of children in the household</p>

            <details class="quote">
              <summary>Source code in <code>tripsender\household.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">update_has_child</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Set the has_child attribute for adults in the household based on the number of children in the household&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">has_child</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">has_child</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">members</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">member</span><span class="o">.</span><span class="n">is_child</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
            <span class="n">member</span><span class="o">.</span><span class="n">has_child</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_child</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js"></script>
        <script src="../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
